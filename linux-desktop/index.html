<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Nyano Desktop</title>
    <link rel="stylesheet" href="styles.css" />
    <link
      rel="stylesheet"
      href="node_modules/@fortawesome/fontawesome-free/css/all.min.css"
    />
  </head>
  <body>
    <header>
      <button id="toggle-sidebar" aria-label="Menu" class="menu-btn">
        <i class="fas fa-bars"></i>
      </button>
      <h1>Nyano Desktop</h1>
    </header>
    <nav id="sidebar">
      <ul>
        <li data-page="wallet" class="active">
          <i class="fas fa-wallet"></i> Wallet
        </li>
        <li data-page="contacts">
          <i class="fas fa-address-book"></i> Contacts
        </li>
        <li data-page="dashboard">
          <i class="fas fa-chart-line"></i> Dashboard
        </li>
        <li data-page="miner">
          <i class="fas fa-coins"></i> Miner
        </li>
        <li data-page="settings">
          <i class="fas fa-cog"></i> Settings
        </li>
      </ul>
    </nav>
    <main id="content">
      <section id="wallet" class="page active">
        <h2>Wallet</h2>
        <div class="balance">
          Balance: <span id="balance">0</span> NYANO
          <button id="refresh-balance" title="Refresh"><i class="fas fa-sync-alt"></i></button>
        </div>

        <div class="wallet-address">
          <label>Address (index: <span id="current-index">0</span>)</label>
          <input type="text" id="address" readonly />
          <button id="copy-address" title="Copy"><i class="fas fa-copy"></i></button>
        </div>
        <canvas id="address-qr" width="128" height="128"></canvas>

        <div class="send-form">
          <h3>Send</h3>
          <label>To <input type="text" id="send-to" placeholder="Nyano address" /></label>
          <label>Amount <input type="number" id="send-amount" min="0" step="any" /></label>
          <button id="send-button">Send</button>
          <div id="tx-status" class="status"></div>
        </div>

        <div class="history">
          <h3>Transaction History</h3>
          <table id="history-table">
            <thead>
              <tr>
                <th>To</th>
                <th>Amount</th>
                <th>Date</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
          <button id="clear-history">Clear History</button>
          <button id="export-history">Export CSV</button>
        </div>

        <div class="network-history">
          <h3>Account History</h3>
          <button id="refresh-network-history">Refresh</button>
          <table id="network-history-table">
            <thead>
              <tr>
                <th>Type</th>
                <th>Amount</th>
                <th>Hash</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </section>

      <section id="contacts" class="page">
        <h2>Contacts</h2>
        <div class="add-contact">
          <input type="text" id="contact-name" placeholder="Name" />
          <input type="text" id="contact-address" placeholder="Nyano address" />
          <button id="add-contact">Add</button>
          <button id="import-contacts">Import</button>
          <button id="export-contacts">Export</button>
          <input type="file" id="import-file" accept="application/json" hidden />
        </div>
        <table id="contacts-table">
          <thead>
            <tr><th>Name</th><th>Address</th><th></th></tr>
          </thead>
          <tbody></tbody>
        </table>
      </section>

      <section id="dashboard" class="page">
        <h2>Dashboard</h2>
        <div class="price">NANO Price: <span id="nano-price">loading...</span> USD</div>
        <div class="network">Network Status: <span id="network-status">checking...</span></div>
        <button id="refresh-dashboard">Refresh</button>
      </section>

      <section id="miner" class="page">
        <h2>Miner</h2>
        <div class="miner-controls">
          <p>Status: <span id="miner-status">stopped</span></p>
          <p>Time: <span id="miner-timer">0s</span></p>
          <button id="start-miner">Start Miner</button>
          <button id="stop-miner" disabled>Stop Miner</button>
        </div>
      </section>

      <section id="settings" class="page">
        <h2>Settings</h2>
        <label class="toggle">
          <input type="checkbox" id="dark-toggle" /> Dark mode
        </label>
        <div class="seed-settings">
          <h3>Wallet Seed</h3>
          <input type="password" id="seed-input" placeholder="Enter seed" />
          <button id="toggle-seed" title="Show/Hide">
            <i class="fas fa-eye"></i>
          </button>
          <button id="generate-seed">Generate</button>
          <button id="save-seed">Save</button>
          <button id="export-seed">Export</button>
          <button id="import-seed">Import</button>
          <input type="file" id="seed-file" accept="text/plain" hidden />
        </div>
        <div class="network-settings">
          <h3>Network</h3>
          <select id="network-select">
            <option value="mainnet">Mainnet</option>
            <option value="testnet">Testnet</option>
            <option value="beta">Beta</option>
          </select>
        </div>
        <div class="account-settings">
          <h3>Account Index</h3>
          <input type="number" id="account-index" min="0" step="1" />
          <button id="save-account-index">Save</button>
        </div>
        <div class="rpc-settings">
          <h3>RPC Endpoint</h3>
          <input type="text" id="rpc-url" placeholder="https://rpc.nyano.org" />
          <button id="save-rpc">Save</button>
        </div>
        <p>Platform: <span id="platform"></span></p>
        <p>Version: <span id="version"></span></p>
      </section>
    </main>
    <script src="node_modules/qrcode/build/qrcode.js"></script>
    <script src="renderer.js"></script>
  </body>
</html>
